<!DOCTYPE html>
<html class="livingcss">
<head>
  <title>{{title}}</title>

  <!-- critical path css -->
  {{> mainStylesheet}}
  <!-- /critical path css -->

  <!-- Files required for Cedar -->
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:700|Roboto:400,700" rel="stylesheet">
  <link rel="stylesheet" href="https://raw.githubusercontent.com/rei/rei-cedar/master/dist/rei-cedar.min.css">

  <!-- user styles -->
  {{#each globalStylesheets}}
  <link rel="stylesheet" href="{{this}}">
  {{/each}}
  <!-- /user styles -->
  <style media="screen">
    .livingcss__nav-sublink {
      display: block;
      padding: 0.5rem;
      border-left: 2px solid transparent;
    }
    .livingcss__nav-link { border-left: 2px solid transparent; }
    .active > .livingcss__nav-link { border-left: 2px solid black; }
    .active > .livingcss__nav-sublink { border-left: 2px solid black; }
    .livingcss__nav-container {
      overflow: auto;
      max-height: 90vh;
    }
    .nav {
      list-style: none;
      padding-left: 0;
    }
    .livingcss__subnav {
      list-style: none;
      padding-left: 0;
      margin-left: 1rem;
    }
    .livingcss__section { margin-top: 0; }
    .snipExample h6 {
      margin: 0;
    }
    .snipExample + .snipExample { margin-top: 1rem; }
    .sectionTitle { margin-bottom: 0; }
    .articleTitle { border-bottom: 1px solid black; }
    .markup { margin-top: 2.6rem; }
    .snippetTag {
      margin-top: 1.2rem;
      margin-bottom: 0;
    }
    .livingcss .livingcss__nav {
      flex-basis: 20rem;
    }
    .livingcss .livingcss__nav--fixed .livingcss__nav-container {
      width: 20rem;
    }
  </style>

  <script src="https://cdn.jsdelivr.net/webcomponentsjs/0.7.21/webcomponents-lite.min.js"></script>
</head>
<body class="livingcss" data-spy="scroll" data-target="#spy">

  <div class="livingcss__wrapper">

    <header class="livingcss__header">
      <div class="livingcss__header-title-container livingcss__inverse-text">
        <h1 class="livingcss__container livingcss__header-title"><a href="{{navbar.0.url}}">{{title}}</a></h1>
      </div>

      {{#if navbar}}
      <div class="livingcss__main-nav-container">
        <nav class="livingcss__container livingcss__main-nav">
        {{#each navbar}}
          <a class="livingcss__nav-link livingcss__nav-link--main {{#if selected}}livingcss__nav-link--active{{/if}}" href="{{url}}">{{name}}</a>
        {{/each}}
        </nav>
      </div>

      <button class="livingcss__menu livingcss__inverse-text">{{{menuButtonHTML}}}</button>
      {{/if}}
    </header>

    <div class="livingcss__container livingcss__content">

      <main class="livingcss__main" role="main">

        {{#each sections}}
        <article class="livingcss__article" id="{{id}}">
          <div class="">
            <h1 class="articleTitle">{{name}}</h1>
          </div>
          {{#if children}}
          {{#children}}
          {{~> snipChild}}
          {{/children}}

          {{else}}
          {{~> snipSection}}
          {{/if}}
        </article>
        {{/each}}

      </main>

      <nav class="livingcss__nav" id="spy">
        <ul class="nav livingcss__nav-container" id="nav">
        {{#each sections}}
          <li>
            <a class="livingcss__nav-link link_navigation" href="#{{id}}">{{name}}</a>
            <ul class="subnav livingcss__subnav" id="subnav{{@index}}">
              {{#children}}
              <li>
                <a class="livingcss__nav-sublink link_navigation" href="#{{id}}">{{name}}</a>
              </li>
              {{/children}}
            </ul>
          </li>
        {{/each}}
      </ul>
      </nav>

    </div>

    <footer class="livingcss__footer livingcss__inverse-text">
      <div class="livingcss__container">{{{footerHTML}}}</div>
    </footer>

  </div>

  <!-- prism -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/prism/1.4.1/themes/prism.css">
  <script src="https://cdn.jsdelivr.net/prism/1.4.1/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/prism/1.4.1/components/prism-markup.min.js"></script>
  <!-- /prism -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- <script src="https://rawgit.com/r3plica/Scrollspy/master/scrollspy.js"> -->

  </script>

  <!-- user scripts -->
  {{#each scripts}}
  <script src="{{this}}"></script>
  {{/each}}
  <!-- /user scripts -->

  {{> snipScript2}}

</body>
</html>
